# ä»£ç åº“åƒµå°¸æ–‡ä»¶æ‰«ææŠ¥å‘Š

**æ‰«ææ—¶é—´**: 2026-01-25  
**æ‰«æå·¥å…·**: zombie_hunter.js  
**æ‰«æèŒƒå›´**: src/ç›®å½•  
**æ‰«æç»“æœ**: å‘ç° **82ä¸ªæ½œåœ¨åƒµå°¸æ–‡ä»¶**

---

## ğŸ“Š ç»Ÿè®¡æ¦‚è§ˆ

- **æ€»æ–‡ä»¶æ•°**: 157ä¸ª
- **å­˜æ´»æ–‡ä»¶**: 75ä¸ªï¼ˆè¢«main.tsxå¼•ç”¨é“¾è¦†ç›–ï¼‰
- **åƒµå°¸æ–‡ä»¶**: 82ä¸ªï¼ˆæœªè¢«å¼•ç”¨ï¼‰
- **åƒµå°¸ç‡**: 52.2%

---

## ğŸ—‚ï¸ åƒµå°¸æ–‡ä»¶åˆ†ç±»

### ç±»åˆ«1: Legacy Archiveï¼ˆ19ä¸ªæ–‡ä»¶ï¼‰âœ… å®‰å…¨åˆ é™¤
**ä½ç½®**: `src/_legacy_archive_20250124/`

#### AtomicTaskç›¸å…³ (6ä¸ª)
- `src\_legacy_archive_20250124\AtomicTask\EvolutionTree.tsx`
- `src\_legacy_archive_20250124\AtomicTask\FailureHeatmap.tsx`
- `src\_legacy_archive_20250124\AtomicTask\LabView.tsx`
- `src\_legacy_archive_20250124\AtomicTask\TaskShelf.tsx`
- `src\_legacy_archive_20250124\AtomicTask\TransitionWrapper.tsx`
- `src\_legacy_archive_20250124\AtomicTask\UserFeedback.tsx`

#### Portalç›¸å…³ (4ä¸ª)
- `src\_legacy_archive_20250124\Portal\AudioRecorder.tsx`
- `src\_legacy_archive_20250124\Portal\QuickTaskView.tsx`
- `src\_legacy_archive_20250124\Portal\TaskPortal.tsx`
- `src\_legacy_archive_20250124\Portal\TextAnnouncer.tsx`

#### Sidebarç›¸å…³ (4ä¸ª)
- `src\_legacy_archive_20250124\Sidebar\SidePanel.module.css`
- `src\_legacy_archive_20250124\Sidebar\SidePanel.tsx`
- `src\_legacy_archive_20250124\Sidebar\Sidebar.module.css`
- `src\_legacy_archive_20250124\Sidebar\Sidebar.tsx`

#### Backendç›¸å…³ (3ä¸ª)
- `src\_legacy_archive_20250124\backend\db.js`
- `src\_legacy_archive_20250124\backend\executor.js`
- `src\_legacy_archive_20250124\backend\verify.js`

#### å…¶ä»– (2ä¸ª)
- `src\_legacy_archive_20250124\AtomicTaskStyles.css`
- `src\_legacy_archive_20250124\test-double-monitor.html`

**åˆ é™¤å»ºè®®**: âœ… **ç«‹å³åˆ é™¤**  
**ç†ç”±**: å·²æ˜ç¡®æ ‡è®°ä¸ºlegacyï¼Œæœªè¢«ä»»ä½•æºç å¼•ç”¨

---

### ç±»åˆ«2: Missionç›¸å…³æ–‡ä»¶ï¼ˆéœ€è°¨æ…éªŒè¯ï¼‰âš ï¸
**é—®é¢˜**: è¿™äº›æ–‡ä»¶å¯èƒ½è¢«MissionFoundryåŠ¨æ€ä½¿ç”¨

#### Missionæ•°æ®/åè®® (5ä¸ª)
- `src\data\missionData.ts`
- `src\data\missionProtocol.ts`
- `src\data\missionProtocolUsage.md`
- `src\services\MissionDecompiler.ts`
- `src\services\taskService.ts`

#### Missionç›¸å…³Hooks (4ä¸ª)
- `src\hooks\useAutoFlow.ts`
- `src\hooks\useLabData.ts`
- `src\hooks\useLabProtocol.ts`
- `src\hooks\useMissionLoader.ts`

**åˆ é™¤å»ºè®®**: âš ï¸ **éœ€æ‰‹åŠ¨éªŒè¯**  
**éªŒè¯æ–¹æ³•**: æ£€æŸ¥MissionFoundryé¡µé¢æ˜¯å¦ä½¿ç”¨è¿™äº›æ–‡ä»¶

---

### ç±»åˆ«3: MissionFoundryç»„ä»¶ï¼ˆ17ä¸ªï¼‰âš ï¸
**é—®é¢˜**: è™½ç„¶zombie_hunteræœªæ£€æµ‹åˆ°å¼•ç”¨ï¼Œä½†å¯èƒ½è¢«åŠ¨æ€import

#### ç»„ä»¶åˆ—è¡¨
- `src\pages\MissionFoundry\components\AIPluginButtons.tsx`
- `src\pages\MissionFoundry\components\AssetMatrix.tsx`
- `src\pages\MissionFoundry\components\AudioControl.tsx`
- `src\pages\MissionFoundry\components\ControlPanel.tsx`
- `src\pages\MissionFoundry\components\EvidenceDescription.tsx`
- `src\pages\MissionFoundry\components\FileSaveStatus.tsx`
- `src\pages\MissionFoundry\components\P3Mirror.tsx`
- `src\pages\MissionFoundry\components\PhysicalInstruction.tsx`
- `src\pages\MissionFoundry\components\ProtocolDetail.tsx`
- `src\pages\MissionFoundry\components\ProtocolDrawer.tsx`
- `src\pages\MissionFoundry\components\StepEditor.tsx`
- `src\pages\MissionFoundry\components\StepHeader.tsx`
- `src\pages\MissionFoundry\components\TimeAnchor.tsx`
- `src\pages\MissionFoundry\components\VerifiedCapabilityPanel.tsx`
- `src\pages\MissionFoundry\components\useAudioPlayer.ts`

**åˆ é™¤å»ºè®®**: âš ï¸ **éœ€ç”¨æˆ·ç¡®è®¤**  
**éªŒè¯æ–¹æ³•**: è®¿é—®MissionFoundryé¡µé¢ï¼Œç¡®è®¤åŠŸèƒ½æ˜¯å¦æ­£å¸¸

---

### ç±»åˆ«4: é€šç”¨ç»„ä»¶ï¼ˆ28ä¸ªï¼‰âš ï¸
**é—®é¢˜**: å¯èƒ½è¢«æŸäº›é¡µé¢ä½¿ç”¨ï¼Œéœ€é€ä¸€éªŒè¯

#### UIç»„ä»¶ (24ä¸ª)
- `src\components\APISlotManager\APISlotManager.tsx`
- `src\components\ActionPanel.tsx`
- `src\components\AssetRouter.tsx`
- `src\components\AudioRecorder.tsx`
- `src\components\AudioWaveTrack.tsx`
- `src\components\AudioWidget.tsx`
- `src\components\CodeRunner.tsx`
- `src\components\DebugTuner.tsx`
- `src\components\ErrorBoundary.tsx`
- `src\components\FruitProgressMap.tsx`
- `src\components\GhostState\GhostSlot.tsx`
- `src\components\GhostState\MissionView.tsx`
- `src\components\InstructionSection.tsx`
- `src\components\LabLayout.tsx`
- `src\components\MainStage\MainStage.anchor.tsx`
- `src\components\MainStage\TaskProgressBar\TaskProgressBar.tsx`
- `src\components\MediaView.tsx`
- `src\components\ReferenceCard.tsx`
- `src\components\ScreenCapturer.tsx`
- `src\components\TaskEditorContainer.tsx`
- `src\components\TaskMap.tsx`
- `src\components\TaskPath.tsx`
- `src\components\Toolbox.tsx`
- `src\components\TraceReport.tsx`
- `src\components\ValidatedCapabilitiesPanel.tsx`
- `src\components\VerifyPanel_Dynamic.tsx`
- `src\components\VideoRenderer.tsx`
- `src\components\VideoSection.tsx`
- `src\components\VoiceRecorder.tsx`
- `src\components\Widgets\GlobalStats.tsx`

**åˆ é™¤å»ºè®®**: ğŸ” **æ·±åº¦éªŒè¯åå†³å®š**  
**éªŒè¯æ–¹æ³•**: 
1. æ£€æŸ¥è·¯ç”±é…ç½®æ˜¯å¦å¼•ç”¨
2. æœç´¢åŠ¨æ€import
3. æ£€æŸ¥æ˜¯å¦è¢«å…¶ä»–é¡µé¢é—´æ¥ä½¿ç”¨

---

### ç±»åˆ«5: æ•°æ®æ–‡ä»¶ï¼ˆ2ä¸ªï¼‰âš ï¸
- `src\data\db\skills_library.json`
- `src\data\db\tasks_registry.json`

**åˆ é™¤å»ºè®®**: âš ï¸ **ä¿ç•™**  
**ç†ç”±**: å¯èƒ½è¢«è¿è¡Œæ—¶åŠ¨æ€åŠ è½½

---

### ç±»åˆ«6: å·¥å…·/ç±»å‹æ–‡ä»¶ï¼ˆ4ä¸ªï¼‰âš ï¸
- `src\debug\DebugDesk.ts`
- `src\declarations.d.ts`
- `src\services\apiProviderConfig.ts`
- `src\services\requestManager.ts`
- `src\utils\taskValidation.ts`

**åˆ é™¤å»ºè®®**: âš ï¸ **ä¿ç•™**  
**ç†ç”±**: 
- `declarations.d.ts`: TypeScriptå…¨å±€å£°æ˜
- `DebugDesk.ts`: è°ƒè¯•å·¥å…·
- `apiProviderConfig.ts`: å¯èƒ½è¢«åŠ¨æ€å¼•ç”¨
- `requestManager.ts`: å¯èƒ½æ˜¯åº•å±‚æœåŠ¡

---

## ğŸ¯ æ¸…ç†æ‰§è¡Œè®¡åˆ’

### é˜¶æ®µ1: å®‰å…¨æ¸…ç†ï¼ˆç«‹å³æ‰§è¡Œï¼‰âœ…
**åˆ é™¤**: Legacy Archiveç›®å½•ï¼ˆ19ä¸ªæ–‡ä»¶ï¼‰

```bash
# å¤‡ä»½
git add .
git commit -m "Backup before cleanup - Legacy Archive"

# åˆ é™¤
rm -rf src/_legacy_archive_20250124/

# éªŒè¯
npx tsc --noEmit
npm run dev
```

**é¢„æœŸæ”¶ç›Š**: 
- å‡å°‘æ–‡ä»¶æ•°: -19ä¸ª
- å‡å°‘ä»£ç è¡Œ: çº¦-2000è¡Œ
- é™ä½ç»´æŠ¤å¤æ‚åº¦

---

### é˜¶æ®µ2: æ·±åº¦éªŒè¯ï¼ˆéœ€ç”¨æˆ·ç¡®è®¤ï¼‰âš ï¸

#### 2.1 MissionFoundryéªŒè¯
1. è®¿é—®MissionFoundryé¡µé¢
2. æµ‹è¯•æ‰€æœ‰åŠŸèƒ½æ¨¡å—
3. å¦‚æœå®Œå…¨ä¸ä½¿ç”¨ï¼Œç¡®è®¤åˆ é™¤17ä¸ªç»„ä»¶

#### 2.2 Missionç›¸å…³æ–‡ä»¶éªŒè¯
1. æ£€æŸ¥`src/pages/MissionFoundry/`ä¸»æ–‡ä»¶
2. grepæœç´¢æ¯ä¸ªæ–‡ä»¶çš„å¼•ç”¨
3. ç¡®è®¤åˆ é™¤æˆ–ä¿ç•™

#### 2.3 é€šç”¨ç»„ä»¶éªŒè¯
1. ä½¿ç”¨ä¾èµ–åˆ†æå·¥å…·
2. æ£€æŸ¥æ¯ä¸ªé¡µé¢è·¯ç”±
3. é€ä¸€ç¡®è®¤æ˜¯å¦ä½¿ç”¨

---

### é˜¶æ®µ3: äºŒæ¬¡æ‰«æï¼ˆå¯é€‰ï¼‰
**è§¦å‘æ¡ä»¶**: é˜¶æ®µ1å®Œæˆåï¼Œå¦‚æœè¿˜éœ€è¦æ›´æ·±åº¦æ¸…ç†

**å·¥å…·**: 
- webpack-bundle-analyzer
- source-map-explorer
- æ‰‹åŠ¨ä¾èµ–å›¾åˆ†æ

---

## âš ï¸ é£é™©è¯„ä¼°

### ä½é£é™©æ–‡ä»¶ï¼ˆå¯å®‰å…¨åˆ é™¤ï¼‰
- âœ… Legacy Archiveï¼ˆ19ä¸ªï¼‰

### ä¸­é£é™©æ–‡ä»¶ï¼ˆéœ€éªŒè¯ï¼‰
- âš ï¸ MissionFoundryç»„ä»¶ï¼ˆ17ä¸ªï¼‰
- âš ï¸ Missionç›¸å…³æ–‡ä»¶ï¼ˆ9ä¸ªï¼‰

### é«˜é£é™©æ–‡ä»¶ï¼ˆå»ºè®®ä¿ç•™ï¼‰
- ğŸ”´ æ•°æ®æ–‡ä»¶ï¼ˆ2ä¸ªï¼‰
- ğŸ”´ å·¥å…·/ç±»å‹æ–‡ä»¶ï¼ˆ4ä¸ªï¼‰
- ğŸ”´ é€šç”¨ç»„ä»¶ï¼ˆ28ä¸ªï¼‰ - éœ€æ·±åº¦åˆ†æ

---

## ğŸ“ˆ é¢„æœŸæˆæœ

### ä¿å®ˆæ¸…ç†ï¼ˆä»…åˆ é™¤Legacy Archiveï¼‰
- **åˆ é™¤æ–‡ä»¶æ•°**: 19ä¸ª
- **ä»£ç è¡Œæ•°å‡å°‘**: ~2000è¡Œ
- **åƒµå°¸ç‡é™ä½**: 52.2% â†’ 40%

### æ¿€è¿›æ¸…ç†ï¼ˆåŒ…å«MissionFoundryï¼‰
- **åˆ é™¤æ–‡ä»¶æ•°**: 45ä¸ª
- **ä»£ç è¡Œæ•°å‡å°‘**: ~5000è¡Œ
- **åƒµå°¸ç‡é™ä½**: 52.2% â†’ 23%

### å®Œå…¨æ¸…ç†ï¼ˆå…¨éƒ¨éªŒè¯ååˆ é™¤ï¼‰
- **åˆ é™¤æ–‡ä»¶æ•°**: æœ€å¤š82ä¸ª
- **ä»£ç è¡Œæ•°å‡å°‘**: ~10000è¡Œ
- **åƒµå°¸ç‡é™ä½**: 52.2% â†’ 0%

---

## ğŸš¦ ä¸‹ä¸€æ­¥è¡ŒåŠ¨

### ç«‹å³æ‰§è¡Œ
1. âœ… åˆ é™¤Legacy Archiveç›®å½•
2. âœ… è¿è¡ŒTypeScriptç¼–è¯‘æ£€æŸ¥
3. âœ… éªŒè¯P4LABåŠŸèƒ½æ­£å¸¸

### ç­‰å¾…ç”¨æˆ·ç¡®è®¤
1. â“ æ˜¯å¦ä½¿ç”¨MissionFoundryåŠŸèƒ½ï¼Ÿ
2. â“ æ˜¯å¦éœ€è¦æ·±åº¦æ¸…ç†é€šç”¨ç»„ä»¶ï¼Ÿ
3. â“ æ˜¯å¦ä¿ç•™Missionç›¸å…³æ–‡ä»¶ï¼Ÿ

---

**æŠ¥å‘Šç”Ÿæˆæ—¶é—´**: 2026-01-25  
**åˆ†æå·¥å…·**: zombie_hunter.js + äººå·¥å®¡æŸ¥  
**å»ºè®®**: å…ˆæ‰§è¡Œä¿å®ˆæ¸…ç†ï¼ŒéªŒè¯åå†è€ƒè™‘æ·±åº¦æ¸…ç†
