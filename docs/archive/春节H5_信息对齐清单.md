# ğŸ¯ æ˜¥èŠ‚H5é¡¹ç›® - ä¿¡æ¯å¯¹é½æ¸…å•

## âŒ å½“å‰é—®é¢˜è¯Šæ–­

### 1. **M1ä»»åŠ¡æµç¨‹é—®é¢˜ï¼ˆä¸¥é‡ï¼‰**

#### âŒ å½“å‰é”™è¯¯å®ç°
```typescript
// MissionExecutor.ts å½“å‰é€»è¾‘
extractDNA() â†’ ç®€å•æå–æ ‡ç­¾ â†’ æ‹¼æ¥åˆ°prompt â†’ è°ƒç”¨FLUX
```

#### âœ… æ­£ç¡®æµç¨‹ï¼ˆæ ¹æ®M1_PixarAvatar.jsonï¼‰
```
Step 1: Qwen-VL-Plus æå– Identity DNA
  â†“ è¾“å…¥: ç”¨æˆ·ç…§ç‰‡
  â†“ Prompt: "Extract hair topology (hairline, parting, volume), 
            face geometry (chin width, elongated/round), 
            and age anchor (mature/young). 
            Output English tags only."
  â†“ è¾“å‡º: identity_tags (è‹±æ–‡æ ‡ç­¾)

Step 2: æ€§åˆ«è¯†åˆ«ï¼ˆå¯é€‰ï¼‰
  â†“ æ ¹æ® identity_tags åˆ¤æ–­æ€§åˆ«
  â†“ Male â†’ GENDER_MOD: "adult masculine male, sharp mature features, clean ears:1.5"
  â†“        GENDER_NEG: "earrings, tassels, jewelry, female, makeup..."
  â†“ Female â†’ GENDER_MOD: "elegant young adult woman, refined sophisticated features:1.4"
  â†“          GENDER_NEG: "beard, mustache, rough skin, masculine"

Step 3: å¡«å……é¢„è®¾æ¨¡æ¿
  â†“ æ¨¡æ¿: "pks, (masterpiece:1.2), 3d pixar animation style, 
           ({{identity_tags}}:1.7), 
           (detailed hair strands, clear forehead:1.4), 
           {{GENDER_MOD}}, 
           wearing vibrant red traditional Chinese silk jacket with gold dragon patterns, 
           holding shiny golden ingot (Yuanbao), 
           soft cinematic lighting, bokeh festive background, 
           high-end 3d character design, rendered in Octane, 
           stylized movie look, vibrant colors, clean smooth surfaces"

Step 4: è°ƒç”¨ LiblibAI FLUX
  â†“ API: /api/liblib/api/generate/webui/text2img
  â†“ å‚æ•°:
    - templateUuid: "5d7e67009b344550bc1aa6ccbfa1d7f4"
    - lora_uuid: "95ec78a639394f48827c31adabc00828"
    - lora_weight: 0.8
    - sampler: 15 (Euler)
    - steps: 25
    - cfg_scale: 3.5
    - width: 768
    - height: 1024
```

---

### 2. **UIè®¾è®¡é—®é¢˜**

#### âŒ å½“å‰é—®é¢˜
1. **ç¼ºä¹APPè´¨æ„Ÿ**ï¼šæŒ‰é’®æ²¡æœ‰3Dæ„Ÿã€é˜´å½±ã€æ¸å˜
2. **æ˜¥èŠ‚å…ƒç´ ä¸è¶³**ï¼šæ²¡æœ‰çƒŸèŠ±ã€çˆ†ç«¹ã€ç¯ç¬¼ç­‰åŠ¨æ€å…ƒç´ 
3. **ç§»åŠ¨ç«¯é€‚é…æœªçŸ¥**ï¼šæ²¡æœ‰æµ‹è¯•è¿‡æ‰‹æœºç«¯æ˜¾ç¤º
4. **äº¤äº’åé¦ˆä¸è¶³**ï¼šæŒ‰é”®æ²¡æœ‰æŒ‰å‹åŠ¨ç”»ã€è§¦æ„Ÿåé¦ˆ

#### âœ… éœ€è¦æ”¹è¿›
1. **æŒ‰é’®è®¾è®¡**ï¼š
   - 3Då‡¸èµ·æ•ˆæœ
   - æŒ‰å‹åŠ¨ç”»ï¼ˆscale + shadowï¼‰
   - æ¸å˜èƒŒæ™¯
   - å‘å…‰æ•ˆæœ

2. **æ˜¥èŠ‚å…ƒç´ **ï¼š
   - åŠ¨æ€çƒŸèŠ±ç²’å­
   - é£˜è½çš„ç¯ç¬¼
   - é‡‘è‰²å…‰æ™•
   - çˆ†ç«¹é—ªå…‰æ•ˆæœ

3. **ç§»åŠ¨ç«¯é€‚é…**ï¼š
   - viewport meta tag
   - è§¦æ‘¸æ‰‹åŠ¿ä¼˜åŒ–
   - å­—ä½“å¤§å°è‡ªé€‚åº”
   - å®‰å…¨åŒºåŸŸé€‚é…

---

## ğŸ” éœ€è¦ç¡®è®¤çš„ä¿¡æ¯

### A. M1ä»»åŠ¡æµç¨‹ç¡®è®¤

**é—®é¢˜1**: æ˜¯å¦éœ€è¦æ€§åˆ«è¯†åˆ«ï¼Ÿ
- [ ] æ˜¯ï¼Œéœ€è¦æ ¹æ®ç…§ç‰‡è‡ªåŠ¨è¯†åˆ«æ€§åˆ«ï¼Œå¹¶åº”ç”¨ä¸åŒçš„GENDER_MOD
- [ ] å¦ï¼Œä½¿ç”¨ç»Ÿä¸€çš„promptæ¨¡æ¿

**é—®é¢˜2**: Qwen-VLçš„promptæ˜¯å¦æ­£ç¡®ï¼Ÿ
```
å½“å‰prompt: "Extract hair topology (hairline, parting, volume), 
             face geometry (chin width, elongated/round), 
             and age anchor (mature/young). 
             Output English tags only."
```
- [ ] æ­£ç¡®ï¼Œä½¿ç”¨æ­¤prompt
- [ ] éœ€è¦ä¿®æ”¹ï¼Œæ–°çš„promptæ˜¯ï¼š___________

**é—®é¢˜3**: FLUXçš„promptæ¨¡æ¿æ˜¯å¦éœ€è¦è°ƒæ•´ï¼Ÿ
```
å½“å‰æ¨¡æ¿: "pks, (masterpiece:1.2), 3d pixar animation style, 
           ({{identity_tags}}:1.7), 
           (detailed hair strands, clear forehead:1.4), 
           {{GENDER_MOD}}, 
           wearing vibrant red traditional Chinese silk jacket with gold dragon patterns, 
           holding shiny golden ingot (Yuanbao), 
           soft cinematic lighting, bokeh festive background, 
           high-end 3d character design, rendered in Octane, 
           stylized movie look, vibrant colors, clean smooth surfaces"
```
- [ ] æ­£ç¡®ï¼Œä½¿ç”¨æ­¤æ¨¡æ¿
- [ ] éœ€è¦ä¿®æ”¹ï¼Œæ–°çš„æ¨¡æ¿æ˜¯ï¼š___________

**é—®é¢˜4**: æ˜¯å¦éœ€è¦è°ƒç”¨P4LABçš„ç°æœ‰Recipeï¼Ÿ
- [ ] æ˜¯ï¼Œç›´æ¥è°ƒç”¨ `recipe-m1-pixar-3d`
- [ ] å¦ï¼Œåœ¨MissionExecutorä¸­é‡æ–°å®ç°

---

### B. UIè®¾è®¡ç¡®è®¤

**é—®é¢˜5**: æŒ‰é’®é£æ ¼åå¥½ï¼Ÿ
- [ ] A: æ–°æ‹Ÿæ€ï¼ˆNeumorphismï¼‰- æŸ”å’Œå‡¸èµ·
- [ ] B: æ‰å¹³+é•¿é˜´å½± - ç°ä»£ç®€çº¦
- [ ] C: 3Dæ¸å˜ - å¼ºçƒˆç«‹ä½“æ„Ÿ
- [ ] D: ç»ç’ƒæ€ï¼ˆGlassmorphismï¼‰+ éœ“è™¹è¾¹æ¡†

**é—®é¢˜6**: æ˜¥èŠ‚å…ƒç´ åŠ¨ç”»å¼ºåº¦ï¼Ÿ
- [ ] A: ä½è°ƒï¼ˆä»…èƒŒæ™¯æœ‰çƒŸèŠ±ï¼‰
- [ ] B: é€‚ä¸­ï¼ˆèƒŒæ™¯çƒŸèŠ± + é£˜è½ç¯ç¬¼ï¼‰
- [ ] C: å¼ºçƒˆï¼ˆèƒŒæ™¯çƒŸèŠ± + ç¯ç¬¼ + é‡‘è‰²ç²’å­ + çˆ†ç«¹é—ªå…‰ï¼‰

**é—®é¢˜7**: ç§»åŠ¨ç«¯ä¼˜å…ˆè¿˜æ˜¯PCä¼˜å…ˆï¼Ÿ
- [ ] A: ç§»åŠ¨ç«¯ä¼˜å…ˆï¼ˆå¤§æŒ‰é’®ã€å¤§å­—ä½“ï¼‰
- [ ] B: PCä¼˜å…ˆï¼ˆç²¾ç»†UIï¼‰
- [ ] C: å“åº”å¼å¹³è¡¡

---

### C. æŠ€æœ¯å®ç°ç¡®è®¤

**é—®é¢˜8**: æ˜¯å¦éœ€è¦çœŸå®è°ƒç”¨APIï¼Ÿ
- [ ] æ˜¯ï¼Œç«‹å³æµ‹è¯•çœŸå®APIï¼ˆQwen-VL + FLUXï¼‰
- [ ] å¦ï¼Œå…ˆç”¨Mockæ•°æ®å®Œå–„UI

**é—®é¢˜9**: æ˜¯å¦éœ€è¦é”™è¯¯å¤„ç†å¢å¼ºï¼Ÿ
- [ ] æ˜¯ï¼Œæ·»åŠ å‹å¥½çš„é”™è¯¯æç¤ºUI
- [ ] å¦ï¼Œå…ˆå®ç°ä¸»æµç¨‹

**é—®é¢˜10**: æ˜¯å¦éœ€è¦æ€§èƒ½ä¼˜åŒ–ï¼Ÿ
- [ ] æ˜¯ï¼Œå‡å°‘ç²’å­æ•°é‡ã€ä¼˜åŒ–åŠ¨ç”»
- [ ] å¦ï¼Œå…ˆå®ç°å®Œæ•´åŠŸèƒ½

---

## ğŸ“‹ è¡ŒåŠ¨è®¡åˆ’

### Phase 1: ä¿¡æ¯å¯¹é½ï¼ˆå½“å‰é˜¶æ®µï¼‰
- [ ] ç”¨æˆ·ç¡®è®¤ä¸Šè¿°10ä¸ªé—®é¢˜
- [ ] æ˜ç¡®M1ä»»åŠ¡çš„å®Œæ•´æµç¨‹
- [ ] æ˜ç¡®UIè®¾è®¡æ–¹å‘

### Phase 2: æ ¸å¿ƒæµç¨‹ä¿®å¤
- [ ] ä¿®æ­£MissionExecutorçš„M1ä»»åŠ¡é€»è¾‘
- [ ] å®ç°æ­£ç¡®çš„promptæ¨¡æ¿å¡«å……
- [ ] å®ç°æ€§åˆ«è¯†åˆ«ï¼ˆå¦‚æœéœ€è¦ï¼‰
- [ ] æµ‹è¯•çœŸå®APIè°ƒç”¨

### Phase 3: UIå…¨é¢æ”¹è¿›
- [ ] é‡æ–°è®¾è®¡æŒ‰é’®ï¼ˆ3Dè´¨æ„Ÿï¼‰
- [ ] æ·»åŠ æ˜¥èŠ‚åŠ¨ç”»å…ƒç´ 
- [ ] ç§»åŠ¨ç«¯é€‚é…æµ‹è¯•
- [ ] äº¤äº’åé¦ˆä¼˜åŒ–

---

## ğŸš¨ ç«‹å³éœ€è¦çš„ä¿¡æ¯

**æ€»è®¾è®¡å¸ˆï¼Œè¯·ç¡®è®¤ä»¥ä¸‹å…³é”®ä¿¡æ¯ï¼š**

1. **M1ä»»åŠ¡æ˜¯å¦éœ€è¦æ€§åˆ«è¯†åˆ«ï¼Ÿ**
2. **Qwen-VLå’ŒFLUXçš„promptæ¨¡æ¿æ˜¯å¦æ­£ç¡®ï¼Ÿ**
3. **UIé£æ ¼åå¥½ï¼ˆA/B/C/Dï¼‰ï¼Ÿ**
4. **æ˜¥èŠ‚å…ƒç´ åŠ¨ç”»å¼ºåº¦ï¼ˆA/B/Cï¼‰ï¼Ÿ**
5. **æ˜¯å¦ç«‹å³æµ‹è¯•çœŸå®APIï¼Ÿ**

**ç¡®è®¤åæˆ‘ç«‹å³å¼€å§‹ç²¾å‡†å®è£…ï¼** ğŸ¯
