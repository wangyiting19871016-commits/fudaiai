# ğŸ§§ çœŸè¿¹AIÂ·2026æ˜¥èŠ‚ç‰¹ä¾› - å®Œæ•´æ¶æ„è®¾è®¡ï¼ˆä¿®æ­£ç‰ˆï¼‰

## ğŸ“‹ é¡¹ç›®å®šä½

**âŒ è¯¯è§£**: æ”¹é€ ç°æœ‰çš„HomePage/P4LAB  
**âœ… æ­£ç¡®**: åˆ›å»ºå…¨æ–°çš„ç‹¬ç«‹H5åº”ç”¨

### ç³»ç»Ÿåˆ†å±‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç”¨æˆ·ç«¯ H5 åº”ç”¨ï¼ˆå…¨æ–°ç‹¬ç«‹ï¼‰           â”‚
â”‚  /festival/*                          â”‚
â”‚  - ç¦å¢ƒå…¥å£ (ä¸»å…¥å£)                  â”‚
â”‚  - AIç‚¼é‡‘çŸ©é˜µ (å®æ“å®¤)                â”‚
â”‚  - çœŸè¿¹å¤§ç¤¼åŒ… (ç»“æœé¡µ)                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â”‚ è°ƒç”¨
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  èƒ½åŠ›å¼•æ“ï¼ˆP4LAB - ç”¨æˆ·ä¸å¯è§ï¼‰       â”‚
â”‚  - LiblibAI FLUX + LoRA              â”‚
â”‚  - Qwen-VL (DNAæå–)                 â”‚
â”‚  - DeepSeek (åˆ¤è¯ç”Ÿæˆ)               â”‚
â”‚  - CosyVoice (è¯­éŸ³åˆæˆ)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å†…éƒ¨æµ‹è¯•é¡µé¢ï¼ˆä¸åŠ¨ï¼‰                 â”‚
â”‚  - HomePage (/)                       â”‚
â”‚  - P4LabPage (/p4-lab)                â”‚
â”‚  - EditorPage (/p4)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ® æ ¸å¿ƒè®¾è®¡å“²å­¦ï¼šæµå…‰çº¢å¢™ (Liquid Red)

### è§†è§‰åŸºè°ƒ
- **é…è‰²**: æ–°å¹´çº¢ (#D32F2F) + æç®€ç£¨ç ‚ç»ç’ƒ
- **é£æ ¼**: æ–°ä¸­å¼èµ›åšé£
- **äº¤äº’**: **ä»ªå¼æ„Ÿä¼˜äºåŠŸèƒ½æ„Ÿ**ï¼ˆ20ç§’ç­‰å¾… = æ•°å­—ç‚¼é‡‘ä»ªå¼ï¼‰

### UIåŸåˆ™
1. **å¤§é¢ç§¯ç•™ç™½** + çº¢é‡‘ç‚¹ç¼€
2. **ç£¨ç ‚ç»ç’ƒè´¨æ„Ÿ** (Frosted Glass)
3. **HeroåŠ¨ç”»è½¬åœº** (Apple Storeé£æ ¼)
4. **å£°æ³¢/ç²’å­åŠ¨æ•ˆ** å¢å¼ºç§‘æŠ€æ„Ÿ

---

## ğŸ—ºï¸ é¡µé¢æ¶æ„ï¼šä¸‰æ®µå¼SPA

### ğŸ¯ å‘½åä¿®æ­£

| âŒ åŸå‘½å | âœ… æ–°å‘½å | è¯´æ˜ |
|----------|----------|------|
| çœŸè¿¹Â·2026é—è¿¹ | **çœŸè¿¹Â·è›‡å¹´ç¦å¼•** | "é—è¿¹"ä¸å‰åˆ© |
| é—è¿¹å…¥å£ | **ç¦å¢ƒå…¥å£** | ç¦æ°”ä¹‹å¢ƒ |
| AIç‚¼é‡‘å®éªŒå®¤ | **AIç‚¼é‡‘çŸ©é˜µ** | ä¿æŒ |
| çœŸè¿¹å¤§ç¤¼åŒ… | **çœŸè¿¹å¤§ç¤¼åŒ…** | ä¿æŒ |

---

## ğŸ“± ç¬¬ä¸€é˜¶æ®µï¼šç¦å¢ƒå…¥å£ (Entry Portal)

**è·¯ç”±**: `/festival/home`

### è§†è§‰è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                         â”‚
â”‚        ğŸ”´ [3Dèƒ½é‡çƒæ‚¬æµ®åŠ¨æ•ˆ]             â”‚
â”‚         çœŸè¿¹AI Â· è›‡å¹´ç¦å¼•                â”‚
â”‚         2026 æ˜¥èŠ‚ç‰¹ä¾›                    â”‚
â”‚                                         â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚ M1  â”‚  â”‚ M2  â”‚  â”‚ M3  â”‚  â”‚ M4  â”‚   â”‚
â”‚   â”‚3Då¤´åƒâ”‚  â”‚è´¢ç¥å˜â”‚  â”‚å…¨å®¶ç¦â”‚  â”‚è—å¤´ç”»â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                         â”‚
â”‚   â”€â”€â”€â”€â”€â”€ å·²æœ‰ 1,234 äººç•™ä¸‹çœŸè¿¹ â”€â”€â”€â”€â”€â”€    â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ¸å¿ƒç»„ä»¶

#### 1. 3Dèƒ½é‡çƒ
- ä½¿ç”¨ Three.js æˆ– Canvas
- ç¯ç»•4ä¸ªä»»åŠ¡å…¥å£è½¨é“
- é¼ æ ‡æ‚¬æµ®æ—¶è½¨é“é«˜äº®

#### 2. ä»»åŠ¡å¡ç‰‡ (ZJ-Mission-Card)
```typescript
interface MissionCard {
  id: string;
  title: string;
  subtitle: string;
  preview_gif: string;  // åŠ¨æ€é¢„è§ˆ
  gradient: [string, string];  // æ¸å˜è‰²
  onClick: () => void;
}
```

**5ä¸ªä»»åŠ¡å®šä¹‰**:

| ID | æ ‡é¢˜ | å‰¯æ ‡é¢˜ | æŠ€æœ¯æ ˆ |
|----|------|--------|--------|
| M1 | è›‡å¹´3Då¤´åƒ | é‡å¡‘æ•°å­—åˆ†èº« | Qwen-VL + FLUX + Pixar LoRA |
| M2 | è´¢ç¥å˜èº« | æ¥ç®¡è¿™ä¸€å¹´çš„è´¢æ°” | FLUX + è´¢ç¥é£æ ¼ LoRA |
| M3 | æ—¶ç©ºå…¨å®¶ç¦ | è®©æ€å¿µåœ¨æ­¤åœ†æ»¡ | å¤šå›¾DNAèåˆ + FLUX |
| M4 | éšå½¢æ–‡å­—ç”» | è—åœ¨å¹´å‘³é‡Œçš„ç§˜å¯† | QRCode ControlNet |
| M5 | è¯­éŸ³è´ºå¡ | å¬è§æ—¶å…‰çš„ç¥ç¦ | DeepSeek + CosyVoice |

---

## ğŸ”¥ ç¬¬äºŒé˜¶æ®µï¼šAIç‚¼é‡‘çŸ©é˜µ (Lab)

**è·¯ç”±**: `/festival/lab/:missionId`

### 5æ­¥äº¤äº’æµç¨‹

#### Step 1: ç¥­å›ä¸Šä¼ åŒº (ZJ-Uploader)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                     â”‚
â”‚         ğŸ“·                           â”‚
â”‚    [ç‚¹å‡»æˆ–æ‹–æ‹½ä¸Šä¼ ç…§ç‰‡]               â”‚
â”‚                                     â”‚
â”‚   æ”¯æŒæ ¼å¼: JPG/PNG (æœ€å¤§5MB)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**åŠŸèƒ½è¦æ±‚**:
- å‰ç«¯å‹ç¼©ï¼ˆcompressor.jsï¼‰
- 3:4æ¯”ä¾‹è£å‰ª
- Base64è½¬æ¢
- è¿è§„é¢„åˆ¤ï¼ˆæ•æ„Ÿè¯ï¼‰

#### Step 2: å®æ—¶DNAåˆ†æ (ZJ-AI-Narrator)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ğŸ§¬ DNA æå–ä¸­...                   â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                  â”‚
â”‚   âœ“ æ£€æµ‹åˆ°ï¼šé«˜ä¸¸å­å¤´                 â”‚
â”‚   âœ“ æ£€æµ‹åˆ°ï¼šæ–¹è„¸å‹                   â”‚
â”‚   âœ“ æ£€æµ‹åˆ°ï¼šæˆå¹´å¥³æ€§                 â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                  â”‚
â”‚   [è¿›åº¦æ¡ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 80%]           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æŠ€æœ¯å®ç°**:
- WebSocketè¿æ¥Qwen-VL
- æµå¼è¾“å‡ºæ ‡ç­¾
- è¿›åº¦æ¡æ¨¡æ‹Ÿï¼ˆ0â†’30% DNAæå–ï¼Œ30â†’100% å›¾åƒç”Ÿæˆï¼‰

#### Step 3: è¿›åº¦å™äº‹æµ (Narrative Loader)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   æ­£åœ¨å¯»æ‰¾çš®å…‹æ–¯å…‰å½±...               â”‚
â”‚   å·²é”å®šæ¯›å‘ç»†èŠ‚å±‚...                 â”‚
â”‚   æ³¨å…¥LoRAçµæ°” (0.8x)...             â”‚
â”‚                                     â”‚
â”‚   [ç²’å­åŠ¨æ•ˆèƒŒæ™¯]                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å…³é”®é—®é¢˜é¢„æ¡ˆ**:
- **å»¶è¿Ÿç„¦è™‘**: å…ˆå±•ç¤ºåŸå›¾çš„"ä½åˆ†è¾¨ç‡æ¨¡ç³Šæ»¤é•œ"ï¼Œå†åˆ‡æ¢ä¸ºçœŸå®AIå›¾
- **ä¸Šä¼ å¤±è´¥**: "çµæ°”ä¸å…¼å®¹" UI + å¼•å¯¼é‡æ‹
- **çŠ¶æ€ä¸¢å¤±**: LocalStorageé•œåƒå­˜å‚¨

#### Step 4 & 5: ç»“æœæ˜¾ç¤ºï¼ˆè·³è½¬åˆ°ç»“æœé¡µï¼‰

---

## ğŸ ç¬¬ä¸‰é˜¶æ®µï¼šçœŸè¿¹å¤§ç¤¼åŒ… (Result)

**è·¯ç”±**: `/festival/result/:taskId`

### å¸ƒå±€è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                     â”‚
â”‚     [ç”Ÿæˆçš„å›¾ç‰‡ - é«˜æ¸…å±•ç¤º]          â”‚
â”‚                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ’¬ çµæ°”åˆ¤è¯                         â”‚
â”‚  "ç¦æ»¡äººé—´ï¼Œæ˜¥æ„ç›ç„¶ã€‚"               â”‚
â”‚  - Powered by DeepSeek              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [ğŸ’¾ ä¿å­˜]  [ğŸ™ï¸ é…éŸ³]  [ğŸ“¤ åˆ†äº«]   â”‚
â”‚  [ğŸ”„ é‡æ–°ç”Ÿæˆ]  [ğŸ¨ æ¢ä¸ªä»»åŠ¡]        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ¸å¿ƒç»„ä»¶

#### 1. ç»“æœåˆæˆä»¶ (ZJ-Canvas-Merger)
**åŠŸèƒ½**: åˆæˆæœ€ç»ˆå›¾ç‰‡
- ä¸»å›¾ (FLUXç”Ÿæˆ)
- åˆ¤è¯ (DeepSeekæ–‡æ¡ˆ)
- çœŸè¿¹æ°´å° (å³ä¸‹è§’)
- çº¢åŒ…å°é¢ç‰ˆæœ¬ï¼ˆç‰¹æ®Šå°ºå¯¸ï¼‰

#### 2. å¤šç»´åº¦å‡ºå£
```typescript
interface ResultActions {
  onSave: () => void;          // ä¸‹è½½å›¾ç‰‡
  onVoice: () => void;          // è·³è½¬M5ï¼ˆè¯­éŸ³è´ºå¡ï¼‰
  onShare: () => void;          // ç¤¾äº¤åˆ†äº«
  onRegenerate: () => void;     // é‡æ–°ç”Ÿæˆ
  onChangeTask: () => void;     // è¿”å›ç¦å¢ƒå…¥å£
}
```

---

## ğŸ§© 5å¤§æ ¸å¿ƒç»„ä»¶å®šä¹‰

### 1. ZJ-Uploader (ä¸Šä¼ ä»¶)
**è·¯å¾„**: `src/components/Festival/ZJ-Uploader.tsx`

**åŠŸèƒ½**:
- æ‹–æ‹½/ç‚¹å‡»ä¸Šä¼ 
- å‰ç«¯å›¾ç‰‡å‹ç¼©ï¼ˆcompressor.jsï¼‰
- 3:4æ¯”ä¾‹è£å‰ª
- Base64è½¬æ¢
- è¿è§„è¯é¢„æ£€

**Props**:
```typescript
interface ZJUploaderProps {
  onUploadComplete: (base64: string, metadata: ImageMetadata) => void;
  aspectRatio?: string;  // é»˜è®¤ "3:4"
  maxSizeMB?: number;    // é»˜è®¤ 5MB
}
```

---

### 2. ZJ-AI-Narrator (åŠ è½½å™äº‹ä»¶)
**è·¯å¾„**: `src/components/Festival/ZJ-AI-Narrator.tsx`

**åŠŸèƒ½**:
- æ˜¾ç¤ºQwen-VLçš„DNAæå–æ ‡ç­¾
- æ˜¾ç¤ºFLUXç”Ÿæˆçš„å™äº‹æ–‡æ¡ˆ
- è¿›åº¦æ¡æ¨¡æ‹Ÿ

**Props**:
```typescript
interface ZJAINarratorProps {
  stage: 'dna' | 'generation' | 'complete';
  dnaTag?: string[];           // ["high bun", "round face"]
  narrativeTexts?: string[];   // ["æ­£åœ¨å¯»æ‰¾çš®å…‹æ–¯å…‰å½±..."]
  progress: number;            // 0-100
}
```

---

### 3. ZJ-Canvas-Merger (ç»“æœåˆæˆä»¶)
**è·¯å¾„**: `src/components/Festival/ZJ-Canvas-Merger.tsx`

**åŠŸèƒ½**:
- å°†å›¾ç‰‡ + åˆ¤è¯ + æ°´å°åˆæˆ
- æ”¯æŒçº¢åŒ…å°é¢å°ºå¯¸ï¼ˆ1080x1920ï¼‰
- ç”Ÿæˆå¯ä¸‹è½½çš„å›¾ç‰‡

**Props**:
```typescript
interface ZJCanvasMergerProps {
  imageUrl: string;
  caption: string;
  watermark?: boolean;
  format: 'standard' | 'redpacket';  // æ ‡å‡† or çº¢åŒ…å°é¢
  onMergeComplete: (finalImage: string) => void;
}
```

---

### 4. ZJ-Mission-Card (ä»»åŠ¡å¡ç‰‡)
**è·¯å¾„**: `src/components/Festival/ZJ-Mission-Card.tsx`

**åŠŸèƒ½**:
- Apple Storeé£æ ¼å¤§å¡ç‰‡
- åŠ¨æ€é¢„è§ˆGIF
- HeroåŠ¨ç”»è½¬åœº

**Props**:
```typescript
interface ZJMissionCardProps {
  mission: {
    id: string;
    title: string;
    subtitle: string;
    previewGif: string;
    gradient: [string, string];
  };
  onClick: () => void;
}
```

---

### 5. ZJ-Voice-Player (éŸ³é¢‘æ’­æ”¾å™¨)
**è·¯å¾„**: `src/components/Festival/ZJ-Voice-Player.tsx`

**åŠŸèƒ½**:
- æç®€å£°æ³¢åŠ¨æ•ˆ
- æ’­æ”¾CosyVoiceéŸ³é¢‘
- æ³¢å½¢å¯è§†åŒ–

**Props**:
```typescript
interface ZJVoicePlayerProps {
  audioUrl: string;
  autoPlay?: boolean;
  waveColor?: string;  // é»˜è®¤ #FFD700
}
```

---

## ğŸ› ï¸ æŠ€æœ¯å®ç°

### æ–‡ä»¶ç»“æ„ï¼ˆå…¨æ–°ç‹¬ç«‹ï¼‰

```
src/
â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ Festival/                    # æ˜¥èŠ‚H5ï¼ˆå…¨æ–°ï¼‰
â”‚   â”‚   â”œâ”€â”€ HomePage.tsx             # ç¦å¢ƒå…¥å£
â”‚   â”‚   â”œâ”€â”€ LabPage.tsx              # AIç‚¼é‡‘çŸ©é˜µ
â”‚   â”‚   â”œâ”€â”€ ResultPage.tsx           # çœŸè¿¹å¤§ç¤¼åŒ…
â”‚   â”‚   â””â”€â”€ components/
â”‚   â”‚       â”œâ”€â”€ ZJ-Uploader.tsx
â”‚   â”‚       â”œâ”€â”€ ZJ-AI-Narrator.tsx
â”‚   â”‚       â”œâ”€â”€ ZJ-Canvas-Merger.tsx
â”‚   â”‚       â”œâ”€â”€ ZJ-Mission-Card.tsx
â”‚   â”‚       â””â”€â”€ ZJ-Voice-Player.tsx
â”‚   â”‚
â”‚   â”œâ”€â”€ Home.tsx                     # å†…éƒ¨é¦–é¡µï¼ˆä¸åŠ¨ï¼‰
â”‚   â”œâ”€â”€ P4LabPage.tsx                # èƒ½åŠ›æµ‹è¯•é¡µï¼ˆä¸åŠ¨ï¼‰
â”‚   â””â”€â”€ EditorPage.tsx               # P4ç¼–è¾‘å™¨ï¼ˆä¸åŠ¨ï¼‰
â”‚
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ MissionExecutor.ts           # ä»»åŠ¡æ‰§è¡Œå¼•æ“
â”‚   â”œâ”€â”€ DNAExtractor.ts              # DNAæå–æœåŠ¡
â”‚   â””â”€â”€ LocalStorageMirror.ts        # çŠ¶æ€é•œåƒå­˜å‚¨
â”‚
â”œâ”€â”€ configs/
â”‚   â””â”€â”€ missions/
â”‚       â”œâ”€â”€ M1_PixarAvatar.json
â”‚       â”œâ”€â”€ M2_WealthGod.json
â”‚       â”œâ”€â”€ M3_FamilyPortrait.json
â”‚       â”œâ”€â”€ M4_HiddenText.json
â”‚       â””â”€â”€ M5_VoiceCard.json
â”‚
â””â”€â”€ styles/
    â””â”€â”€ festival.css                 # æµå…‰çº¢å¢™ä¸»é¢˜
```

---

### è·¯ç”±é…ç½®ï¼ˆæ–°å¢ç‹¬ç«‹è·¯ç”±ï¼‰

```typescript
// src/App.tsx
<Routes>
  {/* ç°æœ‰é¡µé¢ï¼ˆä¸åŠ¨ï¼‰ */}
  <Route path="/" element={<Home />} />
  <Route path="/p4-lab" element={<P4LabPage />} />
  <Route path="/p4" element={<EditorPage />} />
  
  {/* æ˜¥èŠ‚H5ï¼ˆå…¨æ–°ï¼‰ */}
  <Route path="/festival" element={<FestivalLayout />}>
    <Route index element={<Navigate to="/festival/home" />} />
    <Route path="home" element={<FestivalHomePage />} />
    <Route path="lab/:missionId" element={<FestivalLabPage />} />
    <Route path="result/:taskId" element={<FestivalResultPage />} />
  </Route>
</Routes>
```

---

## ğŸ¨ UI/UXè§„èŒƒï¼šæµå…‰çº¢å¢™

### é…è‰²æ–¹æ¡ˆ

```css
/* æ˜¥èŠ‚ä¸»é¢˜ */
--festival-red: #D32F2F;           /* æ–°å¹´çº¢ */
--festival-gold: #FFD700;          /* é‡‘è‰² */
--festival-bg: #0a0a0a;            /* æ·±é»‘èƒŒæ™¯ */

/* ç£¨ç ‚ç»ç’ƒ */
--glass-bg: rgba(211, 47, 47, 0.1);
--glass-border: rgba(255, 215, 0, 0.3);

/* æ–‡å­— */
--text-primary: #ffffff;
--text-gold: #FFD700;
```

### ç£¨ç ‚ç»ç’ƒå¡ç‰‡

```css
.festival-card {
  background: rgba(211, 47, 47, 0.1);
  backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 215, 0, 0.3);
  border-radius: 24px;
  box-shadow: 
    0 8px 32px rgba(211, 47, 47, 0.2),
    inset 0 1px 1px rgba(255, 255, 255, 0.1);
}
```

### HeroåŠ¨ç”»

```css
@keyframes heroTransition {
  from {
    transform: scale(0.95) translateY(20px);
    opacity: 0;
  }
  to {
    transform: scale(1) translateY(0);
    opacity: 1;
  }
}

.hero-enter {
  animation: heroTransition 0.6s cubic-bezier(0.16, 1, 0.3, 1);
}
```

---

## ğŸ”„ ä»»åŠ¡æ‰§è¡Œå¼•æ“

### MissionExecutoræ¥å£

```typescript
interface MissionExecutor {
  // æ‰§è¡Œä»»åŠ¡
  execute(
    missionId: string,
    inputs: { image?: string; text?: string }
  ): Promise<MissionResult>;
  
  // è·å–ä»»åŠ¡è¿›åº¦
  getProgress(taskId: string): MissionProgress;
  
  // å–æ¶ˆä»»åŠ¡
  cancel(taskId: string): void;
}

interface MissionResult {
  taskId: string;
  image: string;          // ç”Ÿæˆçš„å›¾ç‰‡URL
  caption?: string;       // DeepSeekåˆ¤è¯
  dna?: string[];         // Qwen-VLæ ‡ç­¾
  metadata: {
    missionId: string;
    timestamp: number;
    cost: number;         // æ¶ˆè€—ç‚¹æ•°
  };
}

interface MissionProgress {
  stage: 'uploading' | 'dna' | 'generating' | 'enhancing' | 'complete';
  progress: number;       // 0-100
  message: string;        // å½“å‰çŠ¶æ€æ–‡æ¡ˆ
  dnaResult?: string[];   // DNAæ ‡ç­¾ï¼ˆstage=dnaæ—¶ï¼‰
}
```

---

## ğŸ—ï¸ å®è£…è®¡åˆ’

### Phase 1: åŸºç¡€ç»„ä»¶ï¼ˆ2å¤©ï¼‰
1. âœ… 5ä¸ªæ ¸å¿ƒç»„ä»¶ï¼ˆZJ-*ï¼‰
2. âœ… è·¯ç”±é…ç½®
3. âœ… åŸºç¡€æ ·å¼ï¼ˆæµå…‰çº¢å¢™ï¼‰

### Phase 2: é¡µé¢å®è£…ï¼ˆ3å¤©ï¼‰
1. ç¦å¢ƒå…¥å£é¡µï¼ˆ3Dèƒ½é‡çƒ + ä»»åŠ¡å¡ç‰‡ï¼‰
2. AIç‚¼é‡‘çŸ©é˜µé¡µï¼ˆä¸Šä¼  + DNA + åŠ è½½ï¼‰
3. çœŸè¿¹å¤§ç¤¼åŒ…é¡µï¼ˆç»“æœå±•ç¤º + åˆ†äº«ï¼‰

### Phase 3: ä»»åŠ¡é›†æˆï¼ˆ3å¤©ï¼‰
1. M1: 3Dçš®å…‹æ–¯å¤´åƒ
2. M2: è´¢ç¥å˜èº«
3. M3: æ—¶ç©ºå…¨å®¶ç¦
4. M4: éšå½¢æ–‡å­—ç”»
5. M5: è¯­éŸ³è´ºå¡

### Phase 4: ä¼˜åŒ–ï¼ˆ2å¤©ï¼‰
1. å»¶è¿Ÿç„¦è™‘å¤„ç†ï¼ˆä¼ªç”ŸæˆåŠ¨æ•ˆï¼‰
2. LocalStorageé•œåƒ
3. é”™è¯¯ç†”æ–­UI
4. æ€§èƒ½ä¼˜åŒ–

---

## ğŸ¯ ç«‹å³åˆ›å»ºçš„æ–‡ä»¶

### ç¬¬ä¸€æ‰¹ï¼ˆåŸºç¡€æ¶æ„ï¼‰
1. `src/pages/Festival/HomePage.tsx` - ç¦å¢ƒå…¥å£
2. `src/pages/Festival/LabPage.tsx` - AIç‚¼é‡‘çŸ©é˜µ
3. `src/pages/Festival/ResultPage.tsx` - çœŸè¿¹å¤§ç¤¼åŒ…
4. `src/pages/Festival/Layout.tsx` - æ˜¥èŠ‚H5å¸ƒå±€å®¹å™¨

### ç¬¬äºŒæ‰¹ï¼ˆæ ¸å¿ƒç»„ä»¶ï¼‰
5. `src/components/Festival/ZJ-Uploader.tsx`
6. `src/components/Festival/ZJ-AI-Narrator.tsx`
7. `src/components/Festival/ZJ-Canvas-Merger.tsx`
8. `src/components/Festival/ZJ-Mission-Card.tsx`
9. `src/components/Festival/ZJ-Voice-Player.tsx`

### ç¬¬ä¸‰æ‰¹ï¼ˆæœåŠ¡å±‚ï¼‰
10. `src/services/MissionExecutor.ts`
11. `src/services/DNAExtractor.ts`
12. `src/services/LocalStorageMirror.ts`

### ç¬¬å››æ‰¹ï¼ˆæ ·å¼ï¼‰
13. `src/styles/festival.css`

---

## âœ… æ ¸å¿ƒç¡®è®¤ç‚¹

### âœ… å·²ç¡®è®¤
1. **ç‹¬ç«‹H5åº”ç”¨**ï¼ˆä¸åŠ¨ç°æœ‰é¡µé¢ï¼‰
2. **è·¯ç”±**: `/festival/*`
3. **P4LABä½œä¸ºèƒ½åŠ›å¼•æ“**ï¼ˆç”¨æˆ·ä¸å¯è§ï¼‰
4. **å‘½å**: çœŸè¿¹Â·è›‡å¹´ç¦å¼•
5. **ä¸‰æ®µå¼SPA**: å…¥å£ â†’ å®æ“ â†’ ç»“æœ

### â“ éœ€è¦ä½ ç¡®è®¤

1. **å‘½åæ˜¯å¦æ»¡æ„**ï¼Ÿ
   - "çœŸè¿¹Â·è›‡å¹´ç¦å¼•" / "çœŸè¿¹AIÂ·æ˜¥èŠ‚ç‰¹ä¾›"
   - è¿˜æ˜¯æœ‰æ›´å¥½çš„å»ºè®®ï¼Ÿ

2. **5ä¸ªä»»åŠ¡å®šä¹‰æ˜¯å¦OK**ï¼Ÿ
   - M1: 3Då¤´åƒ
   - M2: è´¢ç¥å˜èº«ï¼ˆæ–°å¢ï¼‰
   - M3: å…¨å®¶ç¦
   - M4: è—å¤´ç”»
   - M5: è¯­éŸ³è´ºå¡

3. **3Dèƒ½é‡çƒæ˜¯å¦å¿…éœ€**ï¼Ÿ
   - å¦‚æœæŠ€æœ¯å¤æ‚åº¦é«˜ï¼Œå¯ä»¥é™çº§ä¸º"ç²’å­åŠ¨æ•ˆèƒŒæ™¯"

4. **çº¢åŒ…å°é¢åŠŸèƒ½æ˜¯å¦è¦åš**ï¼Ÿ
   - éœ€è¦ç‰¹æ®Šå°ºå¯¸ï¼ˆ1080x1920ï¼‰

5. **æ˜¯å¦éœ€è¦ç”¨æˆ·ç™»å½•/æ•°æ®å­˜å‚¨**ï¼Ÿ
   - LocalStorageè¶³å¤Ÿï¼Œè¿˜æ˜¯éœ€è¦åç«¯æ•°æ®åº“ï¼Ÿ

---

## ğŸš€ ä¸‹ä¸€æ­¥

**ç¡®è®¤ä¸Šè¿°5ä¸ªé—®é¢˜åï¼Œæˆ‘ç«‹å³å¼€å§‹Phase 1å®è£…ï¼** ğŸŠ
