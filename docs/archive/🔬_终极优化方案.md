# ğŸ”¬ ç»ˆæä¼˜åŒ–æ–¹æ¡ˆ - å·²å®æ–½

## âœ… å®Œæˆçš„5é¡¹æ”¹åŠ¨

---

## ğŸ”§ **æ”¹åŠ¨1ï¼šæå‡å›¾ç‰‡è´¨é‡ï¼ˆå‡å°‘å‹ç¼©æŸå¤±ï¼‰**

**æ–‡ä»¶ï¼š** `src/pages/Festival/components/ZJUploader.tsx`

**å‹ç¼©é…ç½®ä¼˜åŒ–ï¼š**
```typescript
åŸæ¥:
  quality: 0.8,      // 80%è´¨é‡ï¼ˆæŸå¤±20%ï¼‰
  maxWidth: 2048,    // æœ€å¤§2Kåˆ†è¾¨ç‡

ç°åœ¨:
  quality: 0.95,     // 95%è´¨é‡ï¼ˆä»…æŸå¤±5%ï¼‰â¬…ï¸ æå‡15%
  maxWidth: 4096,    // æœ€å¤§4Kåˆ†è¾¨ç‡ â¬…ï¸ æå‡2å€
  maxHeight: 4096
```

**æ•ˆæœï¼š**
- âœ… å›¾ç‰‡ç»†èŠ‚ä¿ç•™æ›´å¤š
- âœ… çœ¼é•œè¾¹æ¡†æ›´æ¸…æ™°
- âœ… å‘å‹çº¹ç†æ›´æ˜æ˜¾

---

## ğŸ”§ **æ”¹åŠ¨2ï¼šåˆ‡æ¢åˆ°GPT-4.1ï¼ˆæ——èˆ°è§†è§‰æ¨¡å‹ï¼‰**

**æ–‡ä»¶ï¼š** `src/services/MissionExecutor.ts`

**æ¨¡å‹å‡çº§ï¼š**
```typescript
åŸæ¥: model: 'gpt-4o'
ç°åœ¨: model: 'gpt-4.1'  â¬…ï¸ æ——èˆ°å¤šæ¨¡æ€æ¨¡å‹
```

**GPT-4.1ä¼˜åŠ¿ï¼ˆç›¸æ¯”GPT-4oï¼‰ï¼š**
- âœ… æ›´å¼ºçš„è§†è§‰ç†è§£èƒ½åŠ›
- âœ… æ›´å‡†ç¡®çš„ç»†èŠ‚è¯†åˆ«
- âœ… æ›´å¥½çš„å¤æ‚åœºæ™¯å¤„ç†

---

## ğŸ”§ **æ”¹åŠ¨3ï¼šå¢å¼ºGPT-4.1æç¤ºè¯ï¼ˆå¼ºç¡¬çº¦æŸï¼‰**

**æ–‡ä»¶ï¼š** `src/configs/missions/M1_Config.ts`

**æ–°å¢å…³é”®æŒ‡ä»¤ï¼š**
```typescript
# CRITICAL INSTRUCTIONS:
- LOOK CAREFULLY at the image details  â¬…ï¸ å¼ºè°ƒä»”ç»†è§‚å¯Ÿ
- If you see glasses/spectacles on the face â†’ output "wearing black-framed glasses"
- If you DON'T see any glasses â†’ output "no glasses"
- NEVER guess or assume - only describe what you ACTUALLY SEE  â¬…ï¸ ç¦æ­¢çŒœæµ‹
```

**æ–°å¢å‘å‹ç»†èŠ‚è¯†åˆ«ï¼š**
```typescript
- Hair Length Detail:
  * Very short buzz cut / crew cut (å¯¸å¤´/å¹³å¤´ï¼Œè´´å¤´çš®)  â¬…ï¸ æ–°å¢
  * Short cropped (çŸ­å‘ï¼Œæœ‰ä¸€å®šé•¿åº¦)
  * Medium length (ä¸­ç­‰é•¿åº¦)
  * Long flowing (é•¿å‘)
```

**æ–°å¢ç¤ºä¾‹è¾“å‡ºï¼š**
```typescript
Example output: "wearing black-framed glasses, very short buzz cut, high hairline, wide square face, broad jawline, mature adult 30s"
```

---

## ğŸ”§ **æ”¹åŠ¨4ï¼šä¼˜åŒ–è¾“å‡ºè§„åˆ™ï¼ˆå¼ºåˆ¶æ ¼å¼ï¼‰**

**æ–°å¢çº¦æŸï¼š**
```typescript
- You MUST describe: glasses (yes/no), hair length, hair structure, face shape, jawline.
- Start with glasses status, then hair, then face.  â¬…ï¸ å¼ºåˆ¶é¡ºåº
- ABSOLUTELY NO explanations, NO "I'm unable to...", NO "However", NO markdown (```).
```

---

## ğŸ”§ **æ”¹åŠ¨5ï¼šå¢åŠ è„¸å‹ç»´åº¦**

**æ–°å¢æ›´ç²¾å‡†çš„è„¸å‹åˆ¤æ–­ï¼š**
```typescript
# Node 2: FACE STRUCTURE (è„¸éƒ¨ç»“æ„ - æƒé‡ 25%)
- Face Width-to-Length Ratio (è„¸å‹å®½é«˜æ¯”):
  * Wide square face (å®½æ–¹è„¸)      â¬…ï¸ åŸå›¾åº”è¯¥è¯†åˆ«ä¸ºè¿™ä¸ª
  * Narrow elongated face (çª„é•¿è„¸)
  * Balanced oval face (æ¤­åœ†è„¸)
  * Round soft face (åœ†æ¶¦è„¸)
```

---

## ğŸ“Š **å®Œæ•´ä¼˜åŒ–é“¾è·¯**

```
ç”¨æˆ·ä¸Šä¼ å›¾ç‰‡
  â†“
å‰ç«¯å‹ç¼©ï¼ˆ95%è´¨é‡ï¼Œ4Kåˆ†è¾¨ç‡ï¼‰â¬…ï¸ æå‡
  â†“
Base64ç¼–ç 
  â†“
å‘é€ç»™GPT-4.1 â¬…ï¸ æ›´å¼ºæ¨¡å‹
  â†“
GPT-4.1æ”¶åˆ°å¼ºç¡¬æç¤ºè¯ â¬…ï¸ æ˜ç¡®æŒ‡ä»¤
  â†“
è¾“å‡ºï¼šwearing black-framed glasses, very short buzz cut, ...
  â†“
æ™ºèƒ½æ¸…ç†ï¼ˆåˆ é™¤åºŸè¯ï¼‰
  â†“
æƒé‡åˆ†é…ï¼ˆçœ¼é•œ2.2ï¼Œå‘å‹2.5ï¼Œè„¸å‹2.0ï¼‰
  â†“
å‘é€ç»™FLUXç”Ÿæˆ
```

---

## ğŸ¯ **é¢„æœŸæ•ˆæœï¼ˆé’ˆå¯¹ä½ çš„æˆ´çœ¼é•œç…§ç‰‡ï¼‰**

### **GPT-4.1è¾“å‡ºï¼ˆé¢„æœŸï¼‰ï¼š**
```
wearing black-framed glasses, very short buzz cut, high hairline, wide square face, broad jawline, mature adult 30s
```

**æ£€æŸ¥ç‚¹ï¼š**
- âœ… ç¬¬1ä¸ªè¯ï¼š**wearing black-framed glasses**ï¼ˆè€Œä¸æ˜¯no glassesï¼‰
- âœ… ç¬¬2ä¸ªè¯ï¼š**very short buzz cut**ï¼ˆè€Œä¸æ˜¯short hairï¼‰
- âœ… åŒ…å«ï¼š**wide square face**ï¼ˆè€Œä¸æ˜¯ovalï¼‰

---

### **æƒé‡åˆ†é…ï¼ˆé¢„æœŸï¼‰ï¼š**
```typescript
(wearing black-framed glasses:2.2),  â¬…ï¸ çœ¼é•œ
(very short buzz cut:2.5),           â¬…ï¸ å¯¸å¤´/å¹³å¤´
(high hairline:1.8), 
(wide square face, broad jawline:2.0),  â¬…ï¸ æ–¹è„¸+å®½ä¸‹é¢Œ
(mature adult 30s:1.2)
```

---

### **ç”Ÿæˆæ•ˆæœï¼ˆé¢„æœŸï¼‰ï¼š**
- âœ… **æˆ´é»‘æ¡†çœ¼é•œ**
- âœ… **å¯¸å¤´/å¹³å¤´**ï¼ˆè´´å¤´çš®çŸ­å‘ï¼‰
- âœ… **æ–¹è„¸+å®½ä¸‹é¢Œ**
- âœ… 30å²å·¦å³æˆç†Ÿç”·æ€§
- âœ… ä¿æŒçš®å…‹æ–¯é£æ ¼

---

## ğŸš€ **ç«‹å³æµ‹è¯•ï¼**

**è®¿é—®é“¾æ¥ï¼š**
```
http://localhost:5179/#/festival/home
```

**æµ‹è¯•æ­¥éª¤ï¼š**
1. **åˆ·æ–°é¡µé¢**ï¼ˆCtrl+Shift+Rï¼‰
2. ä¸Šä¼ ä½ çš„**æˆ´çœ¼é•œç…§ç‰‡**
3. **æŸ¥çœ‹æ§åˆ¶å°ï¼š**
   ```javascript
   [MissionExecutor] è°ƒç”¨GPT-4.1æå–DNAï¼ˆæ——èˆ°å¤šæ¨¡æ€æ¨¡å‹ï¼‰...  â¬…ï¸ åº”è¯¥çœ‹åˆ°4.1
   [MissionExecutor] GPT-4.1åŸå§‹è¾“å‡º: ???  â¬…ï¸ åº”è¯¥åŒ…å« "wearing glasses"
   [MissionExecutor] æ¸…ç†åè¾“å‡º: ???
   [MissionExecutor] æƒé‡åˆ†é…ç»“æœ: ???
   ```

---

## ğŸ” **å…³é”®æ£€æŸ¥ç‚¹**

### **âœ… å¦‚æœGPT-4.1æˆåŠŸï¼š**
```
åŸå§‹è¾“å‡ºåŒ…å«ï¼š
- "wearing black-framed glasses" âœ…
- "very short buzz cut" æˆ– "crew cut" âœ…
- "wide square face" âœ…
```

### **âŒ å¦‚æœGPT-4.1è¿˜æ˜¯å¤±è´¥ï¼š**
```
åŸå§‹è¾“å‡ºè¿˜æ˜¯ï¼š
- "no glasses" âŒ
- "short hair"ï¼ˆæ²¡æœ‰buzz cutï¼‰âŒ
- ç¼ºå°‘è„¸å‹ âŒ

â†’ è¯´æ˜å¯èƒ½æ˜¯ï¼š
  1. å›¾ç‰‡ç¯å¢ƒå¤ªå¤æ‚ï¼ˆé…’å§å½©è‰²ç¯å…‰ï¼‰
  2. äººè„¸è§’åº¦é—®é¢˜ï¼ˆä¸æ˜¯æ­£é¢ï¼‰
  3. éœ€è¦æ›´æ¸…æ™°çš„æ­£é¢ç…§
```

---

## ğŸ’¡ **å¦‚æœGPT-4.1è¿˜æ˜¯ä¸è¡Œ**

**æˆ‘ä¼šå»ºè®®ï¼š**
1. æç¤ºç”¨æˆ·æ‹æ‘„**æ­£é¢æ¸…æ™°ç…§**ï¼ˆçº¯è‰²èƒŒæ™¯ã€æ­£å¸¸å…‰çº¿ï¼‰
2. æˆ–è€…å®æ–½**åŠè‡ªåŠ¨æ–¹æ¡ˆ**ï¼š
   - GPT-4.1å…ˆè¯†åˆ«
   - æ˜¾ç¤ºè¯†åˆ«ç»“æœç»™ç”¨æˆ·
   - ç”¨æˆ·å¯ä»¥ä¿®æ­£ï¼ˆå¦‚"çœ¼é•œè¯†åˆ«é”™äº†ï¼Œæˆ‘å®é™…æˆ´çœ¼é•œ"ï¼‰

---

**ç°åœ¨ç«‹å³åˆ·æ–°é¡µé¢æµ‹è¯•GPT-4.1ï¼æŠŠæ§åˆ¶å°è¾“å‡ºå‘ç»™æˆ‘ï¼** ğŸ”¬ğŸš€
