# 移动端H5开发原则

**重要性**: 高
**最后更新**: 2026-02-05

[返回总览](./开发规范-总览.md)

---

## 移动端H5开发原则

### 核心理念

**移动端H5 ≠ 桌面端缩小版**
必须移动端优先设计，而非桌面端适配。

### 开发原则

1. **移动端优先** - 先写移动端CSS，再适配桌面
2. **空间宝贵** - 每个元素都要考虑是否必需
3. **容器原则** - 容器尺寸必须 > 最大子元素
4. **测试优先** - 每次改动立即在真实手机测试
5. **避免!important** - 除非确认必须覆盖

### 常见问题排查

#### 问题1: 移动端看不到更新
**不是缓存问题！** 首先检查：
1. CSS文件的 `@media (max-width: 480px)` 部分是否正确
2. 元素尺寸是否计算正确（容器 > 内容）
3. 是否有inline styles覆盖CSS
4. 媒体查询是否被其他规则覆盖

#### 问题2: 布局错乱
检查：
1. Grid/Flex容器和子元素关系
2. 是否添加了wrapper破坏了布局
3. 媒体查询是否生效
4. 元素overflow和position设置

---

## 问题诊断流程

### 标准诊断流程

```
1. 精准理解问题（截图、标注、描述）
   ↓
2. 复现问题（真实设备测试）
   ↓
3. 检查代码逻辑（CSS、JS、API）
   ↓
4. 验证假设（开发者工具）
   ↓
5. 小范围修改
   ↓
6. 立即测试验证
```

### 布局问题诊断

**优先使用浏览器DevTools**:
1. 检查实际渲染的DOM结构
2. 检查计算后的CSS样式
3. 使用Grid/Flex Inspector
4. 不要盲目调整数值

### 禁止行为

- ❌ 未理解问题就改代码
- ❌ 桌面端测试通过就认为完成
- ❌ 把问题归咎于缓存等外部因素
- ❌ 大范围修改后才测试
- ❌ 用桌面思维做移动端产品

---

